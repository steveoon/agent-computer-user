graph BT
    %% 定义样式
    classDef atomStyle fill:#e3f2fd,stroke:#0d47a1,stroke-width:2px,color:#000
    classDef moleculeStyle fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000
    classDef cellStyle fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px,color:#000
    classDef tissueStyle fill:#fff8e1,stroke:#f57c00,stroke-width:2px,color:#000
    classDef fieldStyle fill:#ffebee,stroke:#b71c1c,stroke-width:4px,color:#000

    %% 原子层
    subgraph A["⚛️ ATOM LAYER"]
        A1["Text Input"]
        A2["Float32Array"]
        A3["1536D Vectors"]
        A4["Math Operations"]
    end

    %% 分子层
    subgraph M["🧪 MOLECULE LAYER"]
        M1["FieldOperations"]
        M2["textToVector()"]
        M3["normalize()"]
        M4["cosineSimilarity()"]
    end

    %% 细胞层
    subgraph C["🦠 CELL LAYER - Agents"]
        C1["IntentRecognizer<br/>0-384 dim"]
        C2["ReplyGenerator<br/>384-1152 dim"]
        C3["QualityValidator<br/>1152-1536 dim"]
    end

    %% 组织层
    subgraph T["🏗️ TISSUE LAYER"]
        T1["FieldAgentOrchestrator"]
        T2["Parallel Processing"]
        T3["Resonance Mechanism"]
    end

    %% 神经场层
    subgraph N["🧠 NEURAL FIELD"]
        N1["SemanticField"]
        N2["Field Evolution"]
        N3["Stability Detection"]
    end

    %% 层次连接
    A1 --> M2
    A2 --> M1
    A3 --> M3
    A4 --> M4

    M1 --> C1
    M1 --> C2
    M1 --> C3

    C1 --> T1
    C2 --> T1
    C3 --> T1

    T1 --> N1
    T2 --> N2
    T3 --> N3

    %% 应用样式
    class A1,A2,A3,A4 atomStyle
    class M1,M2,M3,M4 moleculeStyle
    class C1,C2,C3 cellStyle
    class T1,T2,T3 tissueStyle
    class N1,N2,N3 fieldStyle

    %% 添加说明
    A -.- AN["Basic data structures<br/>and operations"]
    M -.- MN["Computational tools<br/>and utilities"]
    C -.- CN["Autonomous agents<br/>with specific roles"]
    T -.- TN["Coordination and<br/>collaboration"]
    N -.- NN["Unified semantic<br/>representation"]